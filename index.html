<html>
<head>
  <script src="https://code.jquery.com/jquery-2.1.4.js"> </script>
  <script type="text/javascript">

    $(function () {
      $.getJSON("http://127.0.0.1:5000/games", "", function (data) {
        var games = $("#games");
        for(var key in data) {
          games.append("<li onClick='removeGame(this)' id="+key+">" + data[key] + "</li>");
        }
      })
    })

    function addGame(game) {
      var games = $("#games");
      var game = $("<li onClick='removeGame(this)'>" + game + "</li>");
      $.post("http://127.0.0.1:5000/games", JSON.stringify({"data": game}), "json",
      function (data) {
        console.log(data);
        game.attr("id") = data.id;
      })
      games.append(game);
    }
    function removeGame(game) {
      var id = game.attr("id");
      $(game).remove();

      $.delete()
    }
  </script>
</head>

<body>
  <h1>Games</h1>

  <ul id="games">
  </ul>
  <input type="test" onchange="addGame(this.value); this.value = ''"/>

</body>
</html>
